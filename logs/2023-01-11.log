[38;5;8m2023-01-11 21:36:41[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:custom[0m
[38;5;8m2023-01-11 21:36:41[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:entry[0m
[38;5;8m2023-01-11 21:36:41[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mdrift-bottle[0m
[38;5;8m2023-01-11 21:36:41[0m [I] [38;5;78;1mapp[0m [38;5;15;1mKoishi/4.11.1[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:basic[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mrate-limit[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mhelp[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mlocales[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mcommands[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:console[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78manalytics[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mconsole[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mdataview[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mlogger[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mmarket[0m
[38;5;8m2023-01-11 21:36:42[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78minsight[0m
[38;5;8m2023-01-11 21:36:43[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mstatus[0m
[38;5;8m2023-01-11 21:36:43[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78msandbox[0m
[38;5;8m2023-01-11 21:36:43[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:database[0m
[38;5;8m2023-01-11 21:36:43[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mdatabase-sqlite[0m
[38;5;8m2023-01-11 21:36:43[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78massets-local[0m
[38;5;8m2023-01-11 21:36:43[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:adapter[0m
[38;5;8m2023-01-11 21:36:43[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgocqhttp[0m
[38;5;8m2023-01-11 21:36:43[0m [W] [38;5;204;1massets[0m missing configuration "selfUrl", fallback to "file:" scheme
[38;5;8m2023-01-11 21:36:43[0m [I] [38;5;78;1mapp[0m server listening at [38;5;78mhttp://localhost:5140[0m
[38;5;8m2023-01-11 21:37:05[0m [W] [38;5;178;1mmarket[0m aborted
[38;5;8m2023-01-11 21:44:34[0m [I] [38;5;78;1mapp[0m reload plugin [38;5;78mdatabase-sqlite[0m
[38;5;8m2023-01-11 21:45:11[0m [I] [38;5;78;1mapp[0m reload plugin [38;5;78mdatabase-sqlite[0m
[38;5;8m2023-01-11 21:46:22[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 21:46:22[0m [W] [38;5;78;1mapp[0m c:\myfile\project\DriftBottle\plugins\drift-bottle\src\index.ts:13
                          const user = await ctx.database.getUser(platform, id)
                                                                  ^
                        
                        ReferenceError: platform is not defined
                            at Object.apply (c:\myfile\project\DriftBottle\plugins\drift-bottle\src\index.ts:13:43)
                            at MainScope.MainScope.apply (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:251:36)
                            at MainScope.start (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:281:12)
                            at MainScope.restart (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:67:10)
                            at MainScope.setup (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:246:10)
                            at null.MainScope (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:209:22)
                            at Map.plugin (C:\myfile\project\DriftBottle\node_modules\cordis\src\registry.ts:113:15)
                            at Context.<anonymous> (C:\myfile\project\DriftBottle\node_modules\cordis\src\context.ts:73:27)
                            at Context.import_core.Context.plugin (C:\myfile\project\DriftBottle\node_modules\koishi\src\index.ts:36:17)
                            at Watcher.triggerLocalReload (C:\myfile\project\DriftBottle\node_modules\koishi\src\worker\watcher.ts:250:26)
[38;5;8m2023-01-11 21:49:46[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 21:49:46[0m [W] [38;5;78;1mapp[0m c:\myfile\project\DriftBottle\plugins\drift-bottle\src\index.ts:13
                          const user = await ctx.database.getUser('',id)
                                                                     ^
                        
                        ReferenceError: id is not defined
                            at Object.apply (c:\myfile\project\DriftBottle\plugins\drift-bottle\src\index.ts:13:46)
                            at MainScope.MainScope.apply (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:251:36)
                            at MainScope.start (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:281:12)
                            at MainScope.restart (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:67:10)
                            at MainScope.setup (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:246:10)
                            at null.MainScope (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:209:22)
                            at Map.plugin (C:\myfile\project\DriftBottle\node_modules\cordis\src\registry.ts:113:15)
                            at Context.<anonymous> (C:\myfile\project\DriftBottle\node_modules\cordis\src\context.ts:73:27)
                            at Context.import_core.Context.plugin (C:\myfile\project\DriftBottle\node_modules\koishi\src\index.ts:36:17)
                            at Watcher.triggerLocalReload (C:\myfile\project\DriftBottle\node_modules\koishi\src\worker\watcher.ts:250:26)
[38;5;8m2023-01-11 21:50:09[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 21:50:09[0m [W] [38;5;78;1mapp[0m Error: no such column: 
                            at f.handleError (C:\myfile\project\DriftBottle\node_modules\@minatojs\sql.js\dist\sql-wasm.js:91:290)
                            at f.prepare (C:\myfile\project\DriftBottle\node_modules\@minatojs\sql.js\dist\sql-wasm.js:90:46)
                            at SQLiteDriver.#exec (C:\myfile\project\DriftBottle\node_modules\@minatojs\driver-sqlite\src\index.ts:208:28)
                            at SQLiteDriver.#all (C:\myfile\project\DriftBottle\node_modules\@minatojs\driver-sqlite\src\index.ts:220:12)
                            at SQLiteDriver.get (C:\myfile\project\DriftBottle\node_modules\@minatojs\driver-sqlite\src\index.ts:274:18)
                            at Selection.execute (C:\myfile\project\DriftBottle\node_modules\@minatojs\core\src\selection.ts:90:29)
                            at Selection.execute (C:\myfile\project\DriftBottle\node_modules\@minatojs\core\src\selection.ts:222:33)
                            at DatabaseService.get (C:\myfile\project\DriftBottle\node_modules\@minatojs\core\src\driver.ts:91:22)
                            at processTicksAndRejections (node:internal/process/task_queues:96:5)
                            at DatabaseService.getUser (C:\myfile\project\DriftBottle\node_modules\@koishijs\core\src\database.ts:105:18)
[38;5;8m2023-01-11 21:50:09[0m [W] [38;5;209;1msqlite[0m > SELECT * FROM `user` hsshbakh WHERE `` is  null
[38;5;8m2023-01-11 21:50:53[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 21:51:19[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 21:56:22[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 21:56:55[0m [W] [38;5;167;1mwatch[0m { detail: [90mundefined[39m, id: [32m''[39m, location: { column: [33m2[39m, file: [32m'C:\\myfile\\project\\DriftBottle\\plugins\\drift-bottle\\src\\index.ts'[39m, length: [33m1[39m, line: [33m17[39m, lineText: [32m'  })'[39m, namespace: [32m''[39m, suggestion: [32m''[39m }, notes: [], pluginName: [32m''[39m, text: [32m'Unexpected "}"'[39m }
[38;5;8m2023-01-11 21:57:27[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 21:57:27[0m [I] [38;5;209;1msqlite[0m auto updating table [38;5;209muser[0m
[38;5;8m2023-01-11 21:58:05[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 21:59:02[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 21:59:20[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 21:59:55[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 22:00:04[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 22:01:02[0m [W] [38;5;167;1mwatch[0m { detail: [90mundefined[39m, id: [32m''[39m, location: { column: [33m82[39m, file: [32m'C:\\myfile\\project\\DriftBottle\\plugins\\drift-bottle\\src\\index.ts'[39m, length: [33m1[39m, line: [33m27[39m, lineText: [32m"  ctx.database.set('user',1,{bottle:{type:'text',content:'test',time:Date.now()}}))"[39m, namespace: [32m''[39m, suggestion: [32m';'[39m }, notes: [], pluginName: [32m''[39m, text: [32m'Expected ";" but found ")"'[39m }
[38;5;8m2023-01-11 22:01:07[0m [W] [38;5;167;1mwatch[0m { detail: [90mundefined[39m, id: [32m''[39m, location: { column: [33m82[39m, file: [32m'C:\\myfile\\project\\DriftBottle\\plugins\\drift-bottle\\src\\index.ts'[39m, length: [33m1[39m, line: [33m27[39m, lineText: [32m"  ctx.database.set('user',1,{bottle:{type:'text',content:'test',time:Date.now()}}))"[39m, namespace: [32m''[39m, suggestion: [32m';'[39m }, notes: [], pluginName: [32m''[39m, text: [32m'Expected ";" but found ")"'[39m }
[38;5;8m2023-01-11 22:01:29[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 22:01:43[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 22:01:58[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
[38;5;8m2023-01-11 22:02:16[0m [I] [38;5;78;1mapp[0m [38;5;15;1mKoishi/4.11.1[0m
[38;5;8m2023-01-11 22:02:16[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:entry[0m
[38;5;8m2023-01-11 22:02:16[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:custom[0m
[38;5;8m2023-01-11 22:02:16[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mdrift-bottle[0m
[38;5;8m2023-01-11 22:02:16[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:basic[0m
[38;5;8m2023-01-11 22:02:16[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mhelp[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mrate-limit[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mlocales[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mcommands[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:console[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78manalytics[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mdataview[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mconsole[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mlogger[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78minsight[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78msandbox[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mmarket[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mstatus[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:database[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78massets-local[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mdatabase-sqlite[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgroup:adapter[0m
[38;5;8m2023-01-11 22:02:17[0m [I] [38;5;78;1mapp[0m apply plugin [38;5;78mgocqhttp[0m
[38;5;8m2023-01-11 22:02:18[0m [W] [38;5;204;1massets[0m missing configuration "selfUrl", fallback to "file:" scheme
[38;5;8m2023-01-11 22:02:18[0m [W] [38;5;78;1mapp[0m c:\myfile\project\DriftBottle\plugins\drift-bottle\src\index.ts:26
                          const user = await ctx.database.get('user',[1])
                                                          ^
                        
                        TypeError: Cannot read properties of undefined (reading 'get')
                            at Object.apply (c:\myfile\project\DriftBottle\plugins\drift-bottle\src\index.ts:26:35)
                            at MainScope.MainScope.apply (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:251:36)
                            at MainScope.start (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:281:12)
                            at MainScope.restart (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:67:10)
                            at MainScope.setup (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:246:10)
                            at null.MainScope (C:\myfile\project\DriftBottle\node_modules\cordis\src\scope.ts:209:22)
                            at Map.plugin (C:\myfile\project\DriftBottle\node_modules\cordis\src\registry.ts:113:15)
                            at Context.<anonymous> (C:\myfile\project\DriftBottle\node_modules\cordis\src\context.ts:73:27)
                            at Context.import_core.Context.plugin (C:\myfile\project\DriftBottle\node_modules\koishi\src\index.ts:36:17)
                            at NodeLoader.forkPlugin (C:\myfile\project\DriftBottle\node_modules\@koishijs\loader\src\shared.ts:127:19)
[38;5;8m2023-01-11 22:02:18[0m [I] [38;5;78;1mapp[0m server listening at [38;5;78mhttp://localhost:5140[0m
[38;5;8m2023-01-11 22:03:25[0m [I] [38;5;167;1mwatch[0m reload plugin at [38;5;167mplugins\drift-bottle\src\index.ts[0m
